<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="shell编程," />





  <link rel="alternate" href="/atom.xml" title="Xin's Blog" type="application/atom+xml" />






<meta name="description" content="条件判断条件判断之if语句 选择执行 if语句可嵌套 单分支 123if 判断条件;then条件为真的分支代码fi">
<meta name="keywords" content="shell编程">
<meta property="og:type" content="article">
<meta property="og:title" content="shelll编程之流程控制">
<meta property="og:url" content="http://xinilhy.github.io/2018/10/04/shell编程之流程控制/index.html">
<meta property="og:site_name" content="Xin&#39;s Blog">
<meta property="og:description" content="条件判断条件判断之if语句 选择执行 if语句可嵌套 单分支 123if 判断条件;then条件为真的分支代码fi">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-10-15T06:12:18.666Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="shelll编程之流程控制">
<meta name="twitter:description" content="条件判断条件判断之if语句 选择执行 if语句可嵌套 单分支 123if 判断条件;then条件为真的分支代码fi">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://xinilhy.github.io/2018/10/04/shell编程之流程控制/"/>





  <title>shelll编程之流程控制 | Xin's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xin's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Xin's Blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xinilhy.github.io/2018/10/04/shell编程之流程控制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xin's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">shelll编程之流程控制</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-04T21:03:54+08:00">
                2018-10-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/shell/" itemprop="url" rel="index">
                    <span itemprop="name">shell</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h1><h2 id="条件判断之if语句"><a href="#条件判断之if语句" class="headerlink" title="条件判断之if语句"></a>条件判断之if语句</h2><ul>
<li>选择执行</li>
<li>if语句可嵌套</li>
<li><p>单分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if 判断条件;then</span><br><span class="line">条件为真的分支代码</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<a id="more"></a></li>
<li><p>双分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if 判断条件; then</span><br><span class="line">条件为真的分支代码</span><br><span class="line">else</span><br><span class="line">条件为假的分支代码</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>多分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if 判断条件1; then</span><br><span class="line">条件1为真的分支代码</span><br><span class="line">elif 判断条件2; then</span><br><span class="line">条件2为真的分支代码</span><br><span class="line">elif 判断条件3; then</span><br><span class="line">条件3为真的分支代码</span><br><span class="line">else</span><br><span class="line">以上条件都为假的分支代码</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行机制<br>逐条件进行判断，第一次遇为“真”条件时，执行其分支，而后结束整个if语句</p>
</li>
</ul>
<h2 id="条件判断之case语句"><a href="#条件判断之case语句" class="headerlink" title="条件判断之case语句"></a>条件判断之case语句</h2><ul>
<li>语法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">case 变量引用 in		## 这里的变量引用即引用变量的值</span><br><span class="line">PAT1)</span><br><span class="line">分支1</span><br><span class="line">;;</span><br><span class="line">PAT2)</span><br><span class="line">分支2</span><br><span class="line">;;</span><br><span class="line">...</span><br><span class="line">*)</span><br><span class="line">默认分支</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">case支持glob风格的通配符：</span><br><span class="line">*: 任意长度任意字符</span><br><span class="line">?: 任意单个字符</span><br><span class="line">[]：指定范围内的任意单个字符</span><br><span class="line">a|b: a或b</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>1.编写脚本/root/bin/createuser.sh，实现如下功能：使用一个用户名做为参<br>数，如果指定参数的用户存在，就显示其存在，否则添加之；显示添加的用户<br>的id号等信息</p>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@centos7 scripts ]#cat createuser.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 判断传参个数是否为1个，不是则打印用法并退出脚本</span><br><span class="line">if [ $# -ne 1 ];then</span><br><span class="line">	echo $&quot;USAGE:$0 user&quot;</span><br><span class="line">	exit 1</span><br><span class="line">fi</span><br><span class="line">## 判断用户是否存在</span><br><span class="line">id $1 &amp;&gt; /dev/null </span><br><span class="line">## 如果用户存在，则打印存在信息，不存在则创建</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; echo &quot;$1 is exist&quot; || useradd $1</span><br><span class="line">## 人性化显示用户的id号</span><br><span class="line">echo &quot;$1 id is `id -u $1`&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat createuser1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 以交互式方式输入用户</span><br><span class="line">read -p &quot;Please input user: &quot; user</span><br><span class="line">## 判断变量值是否为空</span><br><span class="line">[ $&#123;#user&#125; -le 0 ] &amp;&amp; &#123;</span><br><span class="line">	echo &quot;you input is null&quot;</span><br><span class="line">	exit 1</span><br><span class="line">&#125;</span><br><span class="line">## 判断用户是否存在</span><br><span class="line">id $user &amp;&gt; /dev/null </span><br><span class="line">## 如果用户存在，则打印存在信息，不存在则创建</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; echo &quot;$user is exist&quot; || useradd $user</span><br><span class="line">## 人性化显示用户的id号</span><br><span class="line">echo &quot;$user is `id -u $user`&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2.编写脚本/root/bin/yesorno.sh，提示用户输入yes或no,并判断用户输入的<br>是yes还是no,或是其它信息  </p>
<ul>
<li><p>方法1———tr转换大写为小写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat yesorno.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 思路：用户输入的所有选择：y|yes|Y|YES,同n|no|N|NO</span><br><span class="line">## 分析: 统一判断条件为大写或小写:tr进行转换</span><br><span class="line">## 使用两种选择判断：y|yes|;n|no或者大写</span><br><span class="line"></span><br><span class="line">read  -p &quot;Input yes or no:&quot; answer</span><br><span class="line">## tr对结果进行转换成小写</span><br><span class="line">ans=`echo &quot;$answer&quot;|tr &apos;A-Z&apos; &apos;a-z&apos;`</span><br><span class="line">if [ &quot;$ans&quot; = &quot;yes&quot; -o &quot;$ans&quot; = &quot;y&quot; ];then</span><br><span class="line">        echo &quot;YES&quot;</span><br><span class="line">elif [ &quot;$ans&quot; = &quot;no&quot; -o &quot;$ans&quot; = &quot;n&quot; ];then</span><br><span class="line">        echo &quot;NO&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;Please input yes or no&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2——使用正则匹配</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat yesorno1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 思路：用户输入的所有选择：y|yes|Y|YES,同n|no|N|NO</span><br><span class="line">## 分析: 使用正则进行匹配所有选择</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">read  -p &quot;Input yes or no:&quot; answer</span><br><span class="line">## 正则匹配使用[[]]，并且前面的字符串加双引号，锚定行首和行尾，?表示0或1次，即Y、y、YES、yes.</span><br><span class="line">if [[ &quot;$answer&quot; =~ ^[Yy]([Ee][Ss])?$ ]];then</span><br><span class="line">        echo YES</span><br><span class="line">## 同理，no的选择也是n、N、no、NO、还有No、nO等</span><br><span class="line">elif [[ &quot;$answer&quot; =~ ^[Nn][Oo]?$ ]];then</span><br><span class="line">        echo &quot;NO&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;Please input yes or no&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法3——使用case匹配</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat while_yesorno.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 思路：用户输入的所有选择：y|yes|Y|YES,同n|no|N|NO</span><br><span class="line">## 分析: 统一判断条件为大写或小写:tr进行转换</span><br><span class="line">## 使用两种选择判断：y|yes|;n|no或者大写</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;Please input yes or no: &quot; ans</span><br><span class="line">case $ans in</span><br><span class="line">## 匹配值[Y或y]或[Yes、YES、yes等]，|为或的意思</span><br><span class="line">[Yy]|[Yy][Ee][Ss])</span><br><span class="line">	echo YES</span><br><span class="line">	;;</span><br><span class="line">## 匹配[N或n]或[NO、no、No、nO]</span><br><span class="line">[Nn]|[Nn][Oo])</span><br><span class="line">	echo NO</span><br><span class="line">	;;</span><br><span class="line">*)	</span><br><span class="line">	echo input false</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>3.编写脚本/root/bin/filetype.sh,判断用户输入文件路径，显示其文件类型<br>（普通，目录，链接，其它文件类型）</p>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat filetype.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;Please input a file_path: &quot; file_path</span><br><span class="line">## 判断变量值是否为空</span><br><span class="line">[ $&#123;#file_path&#125; -le 0 ] &amp;&amp; &#123;</span><br><span class="line">	echo &quot;you input is null&quot;</span><br><span class="line">	exit 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">## ls -ld 显示文件或目录的详细信息，head取第一个字节，即文件类型标识</span><br><span class="line">head_file=`ls -ld $file_path|head -c1`</span><br><span class="line">## case对标识进行匹配，并人性化显示文件类型</span><br><span class="line">case $head_file in</span><br><span class="line">-)</span><br><span class="line">	echo &quot;this $file_path is file&quot;</span><br><span class="line">	;;</span><br><span class="line">d)</span><br><span class="line">	echo &quot;this $file_path is directory&quot;</span><br><span class="line">	;;</span><br><span class="line">l)</span><br><span class="line">	echo &quot;this $file_path is link &quot;</span><br><span class="line">	;;</span><br><span class="line">*)</span><br><span class="line">	echo &quot;this $file_path is other filetype&quot;</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat filetype1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;Please input a file_path: &quot; file_path</span><br><span class="line">## 判断变量值是否为空</span><br><span class="line">[ $&#123;#file_path&#125; -le 0 ] &amp;&amp; &#123;</span><br><span class="line">	echo &quot;you input is null&quot;</span><br><span class="line">	exit 1</span><br><span class="line">&#125;</span><br><span class="line">if [ -f $file_path ];then</span><br><span class="line">	echo &quot;this $file_path is file&quot;</span><br><span class="line">elif [ -d $file_path ];then</span><br><span class="line">	echo &quot;this $file_path is directory&quot;</span><br><span class="line">elif [ -L $file_path ];then</span><br><span class="line">	echo &quot;this $file_path is link &quot;</span><br><span class="line">else</span><br><span class="line">	echo &quot;this $file_path is other filetype&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>4.编写脚本/root/bin/checkint.sh,判断用户输入的参数是否为正整数</p>
<ul>
<li>方法1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat checkint.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;Please input a Positive integer: &quot; num</span><br><span class="line">## 判断变量值是否为空</span><br><span class="line">[ $&#123;#num&#125; -le 0 ] &amp;&amp; &#123;</span><br><span class="line">	echo &quot;you input is null&quot;</span><br><span class="line">	exit 1</span><br><span class="line">&#125;</span><br><span class="line">## 判断是否为整数,是则打印输出，否则提示</span><br><span class="line">if [ &quot;num&quot; =~ ^[1-9][0-9]*$ &amp;&gt; /dev/null ];then</span><br><span class="line">	 echo &quot;you input is $num&quot;</span><br><span class="line">else</span><br><span class="line">	 echo &quot;Please input a Positive integer&quot;</span><br><span class="line">	 exit 1 </span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h1><ul>
<li>将某代码段重复运行多次</li>
<li>重复运行多少次<ul>
<li>循环次数事先已知</li>
<li>循环次数事先未知</li>
</ul>
</li>
<li>有进入条件和退出条件</li>
<li>有for, while, until</li>
</ul>
<h2 id="循环之for语句"><a href="#循环之for语句" class="headerlink" title="循环之for语句"></a>循环之for语句</h2><ul>
<li><p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for 变量名 in 列表;do</span><br><span class="line">循环体</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行机制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">依次将列表中的元素赋值给“变量名”; 每次赋值后即执行一次循环体; 直到列表中的元素耗尽，循环结束</span><br></pre></td></tr></table></figure>
</li>
<li><p>列表生成方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(1) 直接给出列表</span><br><span class="line">(2) 整数列表：</span><br><span class="line">(a) &#123;start..end&#125;</span><br><span class="line">(b) $(seq [start [step]] end)</span><br><span class="line">(3) 返回列表的命令</span><br><span class="line">	$(COMMAND)</span><br><span class="line">(4) 使用glob，如：*.sh</span><br><span class="line">(5) 变量引用；</span><br><span class="line">	$@, $*</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="循环之while循环"><a href="#循环之while循环" class="headerlink" title="循环之while循环"></a>循环之while循环</h2><ul>
<li><p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while CONDITION; do</span><br><span class="line">循环体</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>CONDITION：循环控制条件；进入循环之前，先做一次判断；每一次循环之后会再次做判断；条件为“true”，则执行一次循环；直到条件测试状态为“false”终止循环</p>
</li>
<li>因此：CONDTION一般应该有循环控制变量；而此变量的值会在循环体不断地被修正</li>
<li>进入条件：CONDITION为true</li>
<li>退出条件：CONDITION为false</li>
</ul>
<h2 id="循环之until循环"><a href="#循环之until循环" class="headerlink" title="循环之until循环"></a>循环之until循环</h2><ul>
<li><p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">until CONDITION; do</span><br><span class="line">循环体</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>进入条件： CONDITION 为false</p>
</li>
<li>退出条件： CONDITION 为true</li>
</ul>
<h1 id="练习-1"><a href="#练习-1" class="headerlink" title="练习"></a>练习</h1><h2 id="for语句练习"><a href="#for语句练习" class="headerlink" title="for语句练习"></a>for语句练习</h2><p>1.判断/var/目录下所有文件的类型</p>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat var_filetype.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 利用for+if进行匹配文件类型</span><br><span class="line">for files in   /var/* ;do</span><br><span class="line">    if [ -f $files ];then</span><br><span class="line">        echo &quot;$files exists and is a regular file.&quot;</span><br><span class="line">    elif [ -h $files ] ;then</span><br><span class="line">        echo &quot;$files is a symbolic link.&quot;</span><br><span class="line">    elif [ -d $files ] ;then</span><br><span class="line">        echo &quot;$files is a directory.&quot;</span><br><span class="line">    else</span><br><span class="line">        echo &quot;$files is others.&quot;</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat var_filetype2.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 利用for+case进行匹配文件类型</span><br><span class="line">## 首先利用for循环读取每个文件</span><br><span class="line">for files in   /var/* ;do</span><br><span class="line">## 取每个文件属性信息的第一个字节</span><br><span class="line">	file_type=`ls -ld $files|head -c1`</span><br><span class="line">## case匹配</span><br><span class="line">    case $file_type in</span><br><span class="line">	-)</span><br><span class="line">    	echo &quot;$files exists and is a regular file.&quot;</span><br><span class="line">		;;</span><br><span class="line">	l)</span><br><span class="line">        echo &quot;$files is a symbolic link.&quot;</span><br><span class="line">		;;</span><br><span class="line">	d)</span><br><span class="line">        	echo &quot;$files is a directory.&quot;</span><br><span class="line">		;;</span><br><span class="line">    *)</span><br><span class="line">        echo &quot;$files is others.&quot;</span><br><span class="line">    ;;</span><br><span class="line">	esac</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="2">
<li>添加10个用户user1-user10，密码为8位随机字符<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat user1_10.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">for i in &#123;1..10&#125;;do</span><br><span class="line">	useradd user$i</span><br><span class="line">	ran_pss=`openssl rand -base64 8|tr -dc [0-9a-zA-Z]|head -c8`</span><br><span class="line">	echo &quot;$ran_pss&quot; |passwd --stdin user$i &amp;&gt; /dev/null</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>3.删除用户<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#tail -10 /etc/passwd|cut -d: -f1|while read line;do userdel -r $line;done</span><br></pre></td></tr></table></figure></p>
<p>4./etc/rc.d/rc3.d目录下分别有多个以K开头和以S开头的文件；分别读取每个文件，<br>以K开头的输出为文件加stop，以S开头的输出为文件名加start，如K34filename stop<br>S66filename start</p>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat rc.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 从/etc/rc.d/rc3.d/中读取每个文件</span><br><span class="line">for i in /etc/rc.d/rc3.d/*;do</span><br><span class="line">## 取文件的基名，即仅取最后的文件名</span><br><span class="line">	value=`basename $i`</span><br><span class="line">## 正则匹配，如果是以K开头，则添加stop</span><br><span class="line">	if [[ &quot;$value&quot; =~ ^K ]];then	</span><br><span class="line">		echo &quot;$i stop&quot;</span><br><span class="line">## 否则，以S开头，则添加start</span><br><span class="line">	elif [[ &quot;$value&quot; =~ ^S ]];then</span><br><span class="line">		echo &quot;$i start&quot;</span><br><span class="line">	fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat rc1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 从/etc/rc.d/rc3.d/中读取每个文件</span><br><span class="line">for i in /etc/rc.d/rc3.d/*;do</span><br><span class="line">## 取文件的基名，即仅取最后的文件名</span><br><span class="line">	value=`basename $i|head -c1`</span><br><span class="line">## 正则匹配，如果是以K开头，则添加stop</span><br><span class="line">	if [ &quot;$value&quot; == K ];then	</span><br><span class="line">		echo &quot;$i stop&quot;</span><br><span class="line">## 否则，以S开头，则添加start</span><br><span class="line">	elif [ &quot;$value&quot; == S ];then</span><br><span class="line">		echo &quot;$i start&quot;</span><br><span class="line">	fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="5">
<li><p>编写脚本，提示输入正整数n的值，计算1+2+…+n的总和</p>
<figure class="highlight plain"><figcaption><span>scripts ]#cat num_sum.sh </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">sum=0</span><br><span class="line">read -p &quot;Please input 一个正整数：&quot; num</span><br><span class="line">## 判断是否为空,如果为空，则输出提示信息，并退出</span><br><span class="line">if [ $&#123;#num&#125; -le 0 ];then</span><br><span class="line">	echo &quot;Error,you input is null&quot;</span><br><span class="line">	exit 1</span><br><span class="line">fi</span><br><span class="line">## 判断是否为正整数</span><br><span class="line">if [[ $num =~ ^[1-9][0-9]*$ ]];then</span><br><span class="line">## 生成列表有&#123;&#125;和seq两种方式，但是&#123;&#125;赋值后仅仅不生成列表，还好seq支持；</span><br><span class="line">	for i in `seq 1 $num`;do</span><br><span class="line">		let	sum+=$i				## 记住，计算的时候一定要添加相应的命令，不可以直接 sum+=$i</span><br><span class="line">	done</span><br><span class="line">	echo &quot;sum=$sum&quot;</span><br><span class="line">else </span><br><span class="line">##  如果不是一个正整数，则输出警告信息，并退出</span><br><span class="line">	echo &quot;Error,you input is not positive integer&quot;</span><br><span class="line">	exit 1</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>计算100以内所有能被3整除的整数之和</p>
</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat 100_3num.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">sum=0</span><br><span class="line">## for从1到100中循环取值</span><br><span class="line">for i in &#123;1..100&#125;;do</span><br><span class="line">## 求出每个数与3计算后的余数</span><br><span class="line">	value=`echo $[$i%3]`</span><br><span class="line">## 如果余数为0，则进行求和计算，否则，不显示</span><br><span class="line">if [ $value -eq 0 ];then</span><br><span class="line">	let sum+=$i</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">## 打印最后的和</span><br><span class="line">echo &quot;sum=$sum&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat 100_3num1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">sum=0</span><br><span class="line">## 由于必须被3整除，所以定义开始为3，步进为3的整数列表，i循环取值并计算求和</span><br><span class="line">for i in `seq 3 3 100` ;do</span><br><span class="line">## 对取值进行计算求和</span><br><span class="line">    let sum+=i</span><br><span class="line">done</span><br><span class="line">## 打印最后的结果</span><br><span class="line">echo &quot;sum=$sum&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="7">
<li>编写脚本，提示请输入网络地址，如192.168.0.0，判断输入的网段中主机在线状态</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat scanip.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;Please input a network address(eg:192.168.0.0): &quot; netid</span><br><span class="line">## 取出前三位的网络ID</span><br><span class="line">ip_head=`echo $netid|cut -d. -f1-3`</span><br><span class="line">## 对最后一位进行匹配1..254</span><br><span class="line">for i in &#123;1..254&#125;;do</span><br><span class="line">## 组合成一个完整的ip</span><br><span class="line">ip=$ip_head.$i</span><br><span class="line">## &#123;&#125;&amp;是为了并行执行更加快速</span><br><span class="line">&#123; ping -c1 $ip &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ];then</span><br><span class="line">	echo &quot;$ip is up&quot;</span><br><span class="line">else</span><br><span class="line">	echo &quot;$ip is down&quot;</span><br><span class="line">fi &#125; &amp;</span><br><span class="line">done</span><br><span class="line">## 结尾添加wait自动退出，否则需要手动敲击enter退出</span><br><span class="line">wait</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat scanip1.sh </span><br><span class="line">while true; do</span><br><span class="line">        read -t 60 -p &quot;input the network number: &quot; netnum</span><br><span class="line">        if [[ $netnum =~ ^(([1-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.)&#123;3]];then</span><br><span class="line">                break</span><br><span class="line">        else</span><br><span class="line">                echo wrong network number</span><br><span class="line">        fi  </span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">last=$(echo $netnum|cut -d&apos;.&apos; -f3)</span><br><span class="line">declare -i up=0</span><br><span class="line">declare -i down=0</span><br><span class="line"></span><br><span class="line">if [ $last != 0 ];then</span><br><span class="line">        net=$(echo $netnum|cut -d&apos;.&apos; -f1-3)</span><br><span class="line">        for i in &#123;1..255&#125;;do</span><br><span class="line">                j=$&#123;net&#125;.$i</span><br><span class="line">                &#123; if ping -c1 -w1 $j &amp;&gt;/dev/null;then</span><br><span class="line">                        echo host $j is up</span><br><span class="line">                        let up++</span><br><span class="line">                else </span><br><span class="line">                        #echo host $j is down</span><br><span class="line">                        let down++</span><br><span class="line">                fi; &#125; &amp; </span><br><span class="line"></span><br><span class="line">        done</span><br><span class="line">        wait</span><br><span class="line">        #echo</span><br><span class="line">        #echo -e &quot;uphost number is:\t $up&quot;</span><br><span class="line">        #echo -e &quot;downhost number is:\t $down&quot;</span><br><span class="line"></span><br><span class="line">else </span><br><span class="line">        second=$(echo $netnum |cut -d&apos;.&apos; -f2)</span><br><span class="line">        if [ $second = 0 ];then</span><br><span class="line">                echo I cant do this. Its a too much big network</span><br><span class="line">                exit 2</span><br><span class="line">        else        </span><br><span class="line">                net=$(echo $netnum |cut -d&apos;.&apos; -f1-2)</span><br><span class="line">                for i in `seq 0 255`;do</span><br><span class="line">                        j=$&#123;net&#125;.$i</span><br><span class="line">                        for k in `seq 0 255`;do</span><br><span class="line">                                &#123; h=$&#123;j&#125;.$k</span><br><span class="line">                                if ping -c1 -w1 $h &amp;&gt;/dev/null;then</span><br><span class="line">                                        echo host $h is up</span><br><span class="line">                                        let up++</span><br><span class="line">                                else</span><br><span class="line">                                        #echo host $h is dowm</span><br><span class="line">                                        let down++</span><br><span class="line">                                fi; &#125; &amp; </span><br><span class="line">                        done</span><br><span class="line">                        wait</span><br><span class="line">                done</span><br><span class="line">                #echo </span><br><span class="line">                #echo -e &quot;uphost number is:\t $up&quot;</span><br><span class="line">                #echo -e &quot;downhost number is:\t $down&quot;</span><br><span class="line">        fi</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="8">
<li>打印九九乘法表</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat 99.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 约定如下：</span><br><span class="line">## 第一个数字为列数，定义为j；</span><br><span class="line">## 第二个数字为行数，定义为i；</span><br><span class="line">## 首先先打印一行，然后循环打印行数即可；</span><br><span class="line">## 那一行：循环次数是多少？找规律，列数&lt;=行数</span><br><span class="line">for ((i=1;i&lt;=9;i++));do</span><br><span class="line">	for ((j=1;j&lt;=i;j++));do</span><br><span class="line">## -e解释特殊字符，\t是tab键，\c是不换行，或者直接使用-n也可以；</span><br><span class="line">		echo -e &quot;$j*$i=$[j*i]\t\c&quot;</span><br><span class="line">	done</span><br><span class="line">	echo </span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@centos7 scripts ]#cat 99_1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 约定如下：</span><br><span class="line">## 第一个数字为列数，定义为j；</span><br><span class="line">## 第二个数字为行数，定义为i；</span><br><span class="line">## 首先先打印一行，然后循环打印行数即可；</span><br><span class="line">## 那一行：循环次数是多少？找规律，列数&lt;=行数</span><br><span class="line">#for ((i=1;i&lt;=9;i++));do</span><br><span class="line">#	for ((j=1;j&lt;=i;j++));do</span><br><span class="line">## -e解释特殊字符，\t是tab键，\c是不换行，或者直接使用-n也可以；</span><br><span class="line">#		echo -e &quot;$j*$i=$[j*i]\t\c&quot;</span><br><span class="line">#	done</span><br><span class="line">#	echo </span><br><span class="line">#done</span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 9 ];do</span><br><span class="line">	j=1</span><br><span class="line">	while [ $j -le $i ];do</span><br><span class="line">	echo -e &quot;$j*$i=$[j*i]\t\c&quot;</span><br><span class="line">	let j++</span><br><span class="line">done</span><br><span class="line">	let i++</span><br><span class="line">	echo </span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="9">
<li>在/testdir目录下创建10个html文件,文件名格式为数字N（从1到10）加随机8个字母，如：1AbCdeFgH.html</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat ran_html.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 判断目录是否存在，存在则进入，否则创建并进入</span><br><span class="line">[ -d /testdir ] || mkdir /testdir</span><br><span class="line">for i in &#123;1..10&#125;;do</span><br><span class="line">## 注意；这个命令应该放在for循环里，每次执行生成的随机字符都不一样</span><br><span class="line">rand=`openssl rand -base64 8|tr -dc [a-zA-Z]|head -c8`</span><br><span class="line">	touch /testdir/$&#123;i&#125;$rand.html</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat ran_html1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 判断目录是否存在，存在则进入，否则创建并进入</span><br><span class="line">[ -d /testdir ] || mkdir /testdir</span><br><span class="line">for ((i=1;i&lt;=10;i++));do</span><br><span class="line">## 注意；这个命令应该放在for循环里，每次执行生成的随机字符都不一样</span><br><span class="line">rand=`openssl rand -base64 8|tr -dc [a-zA-Z]|head -c8`</span><br><span class="line">	touch /testdir/$&#123;i&#125;$rand.html</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>10.打印等腰三角形</p>
<ul>
<li><p>方法1：利用while实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat I_triangle.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 约定如下</span><br><span class="line">## 定义总行数：line</span><br><span class="line">## 当前行:i</span><br><span class="line">## 当前列:j</span><br><span class="line">## 中间*所在列=总行数line</span><br><span class="line">## 当前行*从开头到中间的个数=当前行i</span><br><span class="line">## space=总行数line-当前行数i</span><br><span class="line">## 当前行*的个数：2i-1</span><br><span class="line"></span><br><span class="line">read -p &quot;Please input a line number: &quot; line</span><br><span class="line">i=1									##  打印多行</span><br><span class="line">while [ &quot;$i&quot; -le &quot;$line&quot; ];do</span><br><span class="line">	## print space					##  打印空格</span><br><span class="line">	j=1</span><br><span class="line">	while [ &quot;$j&quot; -le $[line-i] ];do</span><br><span class="line">		echo -n &quot; &quot;					## 或者使用 echo -e &quot; \c&quot;</span><br><span class="line">		let j++</span><br><span class="line">	done</span><br><span class="line">	## print *						## 打印*的个数</span><br><span class="line">	k=1</span><br><span class="line">	while [ &quot;$k&quot; -le $[2*i-1] ];do</span><br><span class="line">		echo -n &quot;*&quot;</span><br><span class="line">		let k++</span><br><span class="line">	done</span><br><span class="line">	let i++</span><br><span class="line">	echo </span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat for_triangle.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 约定如下</span><br><span class="line">## 定义总行数：line</span><br><span class="line">## 当前行:i</span><br><span class="line">## 当前列:j</span><br><span class="line">## 中间*所在列=总行数line</span><br><span class="line">## 当前行*从开头到中间的个数=当前行i</span><br><span class="line">## space=总行数line-当前行数i</span><br><span class="line">## 当前行*的个数：2i-1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 利用for的第二种语法实现：</span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;Please input a line number: &quot; line</span><br><span class="line">for ((i=1;i&lt;=line;i++));do</span><br><span class="line">## 打印空格</span><br><span class="line">    for ((j=1;j&lt;=$[line-i];j++));do</span><br><span class="line">        echo -n &quot; &quot;</span><br><span class="line">    done</span><br><span class="line">## 打印*的个数</span><br><span class="line">    for ((k=1;k&lt;=$[2*i-1];k++));do</span><br><span class="line">        echo -n &quot;*&quot;</span><br><span class="line">    done</span><br><span class="line">## 打印完一行后进行换行</span><br><span class="line">    echo </span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="while语句练习"><a href="#while语句练习" class="headerlink" title="while语句练习"></a>while语句练习</h2><ol>
<li>编写脚本，求100以内所有正奇数之和</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat odd_number_100.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">sum=0</span><br><span class="line">for i in &#123;1..10..2&#125;;do</span><br><span class="line">	let sum+=$i</span><br><span class="line">done</span><br><span class="line">echo &quot;sum=$sum&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat while_odd_number_100.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">## 如果sum赋值为1，则下面计算sum和i的顺序需要调整为：i在前，sum在后</span><br><span class="line">sum=0  </span><br><span class="line">## 对于while语句来说，需要定义初始值、条件、以及不断变化的值</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 100 ];do</span><br><span class="line">	let sum+=$i</span><br><span class="line">## 由于是奇数，所以i=i+2;i++即所谓的i=i+1</span><br><span class="line">	let i+=2</span><br><span class="line">done</span><br><span class="line">echo &quot;sum=$sum&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2.编写脚本，打印九九乘法表<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat while_99.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 约定如下：</span><br><span class="line">## 第一个数字为列数，定义列数为j,i&lt;=i</span><br><span class="line">## 第二个数字为行数，定义行数为i,i&lt;=9</span><br><span class="line">## 思路：先打印一行，然后循环打印多行，一行循环次数的规律是:j&lt;=i</span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 9 ];do</span><br><span class="line">	j=1</span><br><span class="line">	while [ $j -le $i ];do</span><br><span class="line">		echo -e &quot;$j*$i=$[j*i]\t\c&quot;</span><br><span class="line">##\t表示插入tab,\c表示不换行，需要使用-e选项；或者直接-n选项也是不换行</span><br><span class="line">		let j++</span><br><span class="line">done</span><br><span class="line">	let i++</span><br><span class="line">	echo</span><br><span class="line">## echo 表示打印一行后进行换行			 </span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li>编写脚本，利用变量RANDOM生成10个随机数字，输出这个10数字，并显示其中的最大值和最小值</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><figcaption><span>scripts ]#cat ran_10.sh </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">## 打印随机数列表并且不换行</span><br><span class="line">echo -n &quot;rand_list:   &quot;</span><br><span class="line">## 循环生成10个数字</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 10 ];do</span><br><span class="line">	rand=`echo $RANDOM`</span><br><span class="line">## 每循环一次输出一个随机数，并且不换行显示</span><br><span class="line">	echo -e &quot;$rand\t\c&quot;</span><br><span class="line">## 如果第一次打印，则没有其他数字可以比较，这时最大和最小都是自己</span><br><span class="line">	if [ $i -eq 1 ];then</span><br><span class="line">		max=$rand</span><br><span class="line">		min=$rand</span><br><span class="line">	fi</span><br><span class="line">## 如果随机数大于当前最大值，则把随机数替换为目前最大值</span><br><span class="line">	if [ $max -lt $rand ];then</span><br><span class="line">		max=$rand</span><br><span class="line">## 如果随机数小于当前最小值，则进行替换</span><br><span class="line">	elif</span><br><span class="line">		[ $min -gt $rand ];then</span><br><span class="line">		min=$rand</span><br><span class="line">## 对于其他情况保持true，默认</span><br><span class="line">	else</span><br><span class="line">		true</span><br><span class="line">	fi	 </span><br><span class="line">	let i++</span><br><span class="line">done</span><br><span class="line">echo		## 打印完所有随机数后进行换行</span><br><span class="line">## 输出最大值和最小值</span><br><span class="line">echo max is $max</span><br><span class="line">echo min is $min</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat ran_10_1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 定义存储随机数的文件</span><br><span class="line">file=/data/ran.txt</span><br><span class="line">## 每次执行脚本之前清空文件，否则会保留原来的数据</span><br><span class="line">&gt; $file</span><br><span class="line">for((i=1;i&lt;=10;i++));do</span><br><span class="line">## 循环追加随机数到文件中</span><br><span class="line">	echo $RANDOM &gt;&gt; $file</span><br><span class="line">done</span><br><span class="line">## 利用sort进行排序，取最大值和最小值</span><br><span class="line">echo max `cat $file|sort -nr|head -1`</span><br><span class="line">echo min `cat $file|sort -nr|tail -1`</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="4">
<li>编写脚本，实现打印国际象棋棋盘</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat International_chess.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 国际象棋：8行8列</span><br><span class="line">## 定义行数为i；列数为j</span><br><span class="line">## 思路：奇数行——————红绿红绿红绿红绿； 奇数列===红; 偶数列===绿</span><br><span class="line">## 		 偶数行——————绿红绿红绿红绿红； 奇数列===绿；偶数列===红</span><br><span class="line">##	判断奇数行的奇数列和偶数列分别打印什么颜色；偶数行的奇数列和偶数列分别打印什么颜色；	 </span><br><span class="line"></span><br><span class="line">## 定义行的循环，循环8次</span><br><span class="line">for((i=1;i&lt;=8;i++));do</span><br><span class="line">## 对2进行取模，判断是奇数行还是偶数行</span><br><span class="line">	i_value=`echo $[i%2]`</span><br><span class="line">## 如果是奇数行，则直接执行下面打印行的操作</span><br><span class="line">	if [ $i_value -ne 0 ];then</span><br><span class="line">## 定义一行，一列循环8次</span><br><span class="line">	for((j=1;j&lt;=8;j++));do</span><br><span class="line">## 对2进行取模，判断是奇数列还是偶数列</span><br><span class="line">			j_value=`echo $[j%2]`</span><br><span class="line">## 如果是偶数列，则打印绿色，注意不换行</span><br><span class="line">		if [ $j_value -eq 0 ];then</span><br><span class="line">	 		echo -e &quot;\e[42m  \e[0m\c&quot;</span><br><span class="line">## 否则对于奇数列，则打印红色，注意，不换行</span><br><span class="line">		else</span><br><span class="line">	 		echo -e &quot;\e[41m  \e[0m\c&quot;</span><br><span class="line">		fi</span><br><span class="line">	done</span><br><span class="line">## 打印完一行后进行换行</span><br><span class="line">	echo</span><br><span class="line">## 对应第9行，如果是偶数行，则执行下面的语句，颜色和奇数行正好相反；</span><br><span class="line">	else</span><br><span class="line">		for((j=1;j&lt;=8;j++));do</span><br><span class="line">            j_value=`echo $[j%2]`</span><br><span class="line">        if [ $j_value -eq 0 ];then</span><br><span class="line">            echo -e &quot;\e[41m  \e[0m\c&quot;</span><br><span class="line">        else</span><br><span class="line">            echo -e &quot;\e[42m  \e[0m\c&quot;</span><br><span class="line">        fi</span><br><span class="line">    done</span><br><span class="line">    echo</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat International_chess1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 国际象棋：8行8列</span><br><span class="line">## 定义行数为i；列数为j</span><br><span class="line">## 思路2： </span><br><span class="line">## 第一行===红绿红绿红绿红绿</span><br><span class="line">## 第二行===绿红绿红绿红绿红	 </span><br><span class="line">## 打印一行奇数行偶数行，然后循环4次；</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for ((k=1;k&lt;=4;k++));do</span><br><span class="line">	for ((i=1;i&lt;=2;i++));do</span><br><span class="line">		if [ $i -eq 1 ];then</span><br><span class="line">			for ((j=1;j&lt;=8;j++));do</span><br><span class="line">				j_value=`echo $[j%2]`</span><br><span class="line">## 如果是偶数列，则打印绿色，注意不换行</span><br><span class="line">			if [ $j_value -eq 0 ];then</span><br><span class="line">	 			echo -e &quot;\e[42m  \e[0m\c&quot;</span><br><span class="line">## 否则对于奇数列，则打印红色，注意，不换行</span><br><span class="line">			else</span><br><span class="line">	 			echo -e &quot;\e[41m  \e[0m\c&quot;</span><br><span class="line">			fi</span><br><span class="line">			done</span><br><span class="line">## 打印完一行后进行换行</span><br><span class="line">	echo</span><br><span class="line">		else</span><br><span class="line">			for ((j=1;j&lt;=8;j++));do</span><br><span class="line">        	j_value=`echo $[j%2]`</span><br><span class="line">## 如果是偶数列，则打印绿色，注意不换行</span><br><span class="line">       		 if [ $j_value -eq 0 ];then</span><br><span class="line">            	echo -e &quot;\e[41m  \e[0m\c&quot;</span><br><span class="line">## 否则对于奇数列，则打印红色，注意，不换行</span><br><span class="line">       		 else</span><br><span class="line">            	echo -e &quot;\e[42m  \e[0m\c&quot;</span><br><span class="line">        	fi</span><br><span class="line">    		done</span><br><span class="line">## 打印完一行后进行换行</span><br><span class="line">    echo</span><br><span class="line">		fi</span><br><span class="line">	done</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>国际象棋巨无霸版</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat International_chess_big.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">##思路：</span><br><span class="line">## 第五步：循环8次，打印大的方块行</span><br><span class="line">for((n=1;n&lt;=8;n++));do</span><br><span class="line">## 第六步：取模，判断奇数行还是偶数行，然后输出对应的方块行；</span><br><span class="line">	value=`echo $[n%2]`</span><br><span class="line">	if [ $value -ne 0 ];then</span><br><span class="line">## 第四步：再以更大的循环，循环4次，打印前4行，即出现大的方块===黄绿黄绿黄绿黄绿</span><br><span class="line">	for ((k=1;k&lt;=4;k++));do</span><br><span class="line">## 第三步:以大的循环，循环4次，打印第一行；</span><br><span class="line">		for ((i=1;i&lt;=4;i++));do</span><br><span class="line">## 第一步:先循环输出4个小黄色方块；</span><br><span class="line">			for((j=1;j&lt;=4;j++));do</span><br><span class="line">				echo -e &quot;\e[43m  \e[0m\c&quot;</span><br><span class="line">			done</span><br><span class="line">## 第二步:循环输出4个小蓝色方块；</span><br><span class="line">    		for((j=1;j&lt;=4;j++));do</span><br><span class="line">        		echo -e &quot;\e[44m  \e[0m\c&quot;</span><br><span class="line">			done</span><br><span class="line">		done</span><br><span class="line">## 换行</span><br><span class="line">		echo</span><br><span class="line">	done</span><br><span class="line">## 对应上面的第六步，if判断，这里为偶数行对应的方块颜色,其他同上</span><br><span class="line">	else</span><br><span class="line">		for ((k=1;k&lt;=4;k++));do</span><br><span class="line">        for ((i=1;i&lt;=4;i++));do</span><br><span class="line">            for((j=1;j&lt;=4;j++));do</span><br><span class="line">                echo -e &quot;\e[44m  \e[0m\c&quot;</span><br><span class="line">            done</span><br><span class="line">            for((j=1;j&lt;=4;j++));do</span><br><span class="line">                echo -e &quot;\e[43m  \e[0m\c&quot;</span><br><span class="line">            done</span><br><span class="line">        done</span><br><span class="line">        echo</span><br><span class="line">    done</span><br><span class="line">	fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="5">
<li>后续六个字符串：efbaf275cd、4be9c40b8b、44b2395c46、<br>f8c8873ce0、b902c16c8b、ad865d2f63是通过对随机数变量RANDOM随机<br>执行命令： echo $RANDOM|md5sum|cut –c1-10 后的结果，请破解这些<br>字符串对应的RANDOM值</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat pojie.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">sum=&quot;efbaf275cd 4be9c40b8b 44b2395c46 f8c8873ce0 b902c16c8b ad865d2f63&quot;</span><br><span class="line">for i in &#123;0..32767&#125;;do</span><br><span class="line">test_num=`echo $i|md5sum|cut -c 1-10`</span><br><span class="line">	for num in $sum;do</span><br><span class="line">		if [ &quot;$test_num&quot; == &quot;$num&quot; ];then</span><br><span class="line">	 		echo &quot;$num-----$i&quot;</span><br><span class="line">		fi</span><br><span class="line">	done</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat pojie1.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 首先将0-32767内的所有数字通过md5sum加密，然后把加密后的字符串和加密前的数字对应的写入日志中</span><br><span class="line">&gt; /tmp/random.log</span><br><span class="line">for i in &#123;0..32767&#125;</span><br><span class="line">do</span><br><span class="line">	echo &quot;`echo $i|md5sum ` $i&quot; &gt;&gt; /tmp/random.log</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">## 定义已经给出的加密的字符串</span><br><span class="line">md5_sum=efbaf275cd</span><br><span class="line">while read line</span><br><span class="line">do</span><br><span class="line">## 循环日志中的每一行进行过滤，如果符合要求，则wc后的值为1</span><br><span class="line">	if [ `echo $line|grep &quot;$md5_sum&quot;|wc -l` -eq 1 ];then</span><br><span class="line">## 打印查找到的行</span><br><span class="line">		echo $line				#</span><br><span class="line">		break</span><br><span class="line">	fi</span><br><span class="line">done &lt; /tmp/random.log ## 读取加密后的日志文件</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="until语句练习"><a href="#until语句练习" class="headerlink" title="until语句练习"></a>until语句练习</h2><ol>
<li>每隔3秒钟到系统上获取已经登录的用户的信息；如果发现用户hacker登录，则将登录时间和主机记录于日志/var/log/login.log中,并退出脚本</li>
</ol>
<ul>
<li><p>方法1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat hacker.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">## 判断用户是否是否登录，until语句条件为真则退出循环；条件为假则执行循环</span><br><span class="line">until who|grep -q &quot;^hacker\&gt;&quot;;do</span><br><span class="line">    sleep 3</span><br><span class="line">done                                    </span><br><span class="line">## 如果有hacker用户在登录，则退出循环，并执行下面的pkill语句。</span><br><span class="line">pkill -9 -U hacker                      ## 注意 pkill -9 可以杀死用户所有的进程。</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 scripts ]#cat hacker1.sh </span><br><span class="line">## 优化版：不退出脚本，进入死循环，hacker一旦登录，则直接踢出去</span><br><span class="line">#!/bin/bash </span><br><span class="line">until false; do                         ## 由于until语句为假则执行循环体，即一旦hacker登录，就立即踢出去，并且这里为死循环</span><br><span class="line">    who|grep -q &quot;^hacker\&gt;&quot; &amp;&amp; pkill -9 -U hacker</span><br><span class="line">    sleep 3</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/shell编程/" rel="tag"># shell编程</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/03/shell编程之入门/" rel="next" title="shell编程之入门">
                <i class="fa fa-chevron-left"></i> shell编程之入门
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/05/shell编程之循环控制以及无限循环/" rel="prev" title="shell编程之循环控制以及无限循环">
                shell编程之循环控制以及无限循环 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">xin</p>
              <p class="site-description motion-element" itemprop="description">专注于linux运维</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="undefined" target="_blank" title="0">
                      
                        <i class="fa fa-fw fa-globe"></i>0</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="undefined" target="_blank" title="1">
                      
                        <i class="fa fa-fw fa-globe"></i>1</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#条件判断"><span class="nav-number">1.</span> <span class="nav-text">条件判断</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#条件判断之if语句"><span class="nav-number">1.1.</span> <span class="nav-text">条件判断之if语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#条件判断之case语句"><span class="nav-number">1.2.</span> <span class="nav-text">条件判断之case语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#练习"><span class="nav-number">1.3.</span> <span class="nav-text">练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#循环"><span class="nav-number">2.</span> <span class="nav-text">循环</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#循环之for语句"><span class="nav-number">2.1.</span> <span class="nav-text">循环之for语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环之while循环"><span class="nav-number">2.2.</span> <span class="nav-text">循环之while循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环之until循环"><span class="nav-number">2.3.</span> <span class="nav-text">循环之until循环</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#练习-1"><span class="nav-number">3.</span> <span class="nav-text">练习</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#for语句练习"><span class="nav-number">3.1.</span> <span class="nav-text">for语句练习</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#while语句练习"><span class="nav-number">3.2.</span> <span class="nav-text">while语句练习</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#until语句练习"><span class="nav-number">3.3.</span> <span class="nav-text">until语句练习</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xin</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
